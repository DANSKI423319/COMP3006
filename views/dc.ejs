<!DOCTYPE html>
<html>

<head>
  <title>Computers-Dev</title>
  <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="custom-styles.css" />
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/mocha/mocha.css" />
  <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="script.js"></script>
</head>

<body style="margin: 20px">
  <h3>Desk Manager</h3>
  <h4 class="text-muted">Status Checker</h4>

  <!-- Error message -->
  <p id="errorMsg" style="color: crimson"></p>

  <div class="row">
    <div id="padded-box" class="col-sm-3 border border-secondary rounded">

      <!-- Add Computer Form -->
      <div id="computer-form-box">
        <h5>Add Computer</h5>

        <form method="post" action="/insert" class="insertForm">

          <div class="form-group">
            <label for="addName">Name</label>
            <input type="text" name="addName" id="inputName" class="form-control" maxlength="10"
              placeholder="Type here..." />
          </div>

          <div class="form-group">
            <label for="addStatus">Status</label>
            <select name="addStatus" class="form-control">
              <option>Working</option>
              <option>Not working</option>
              <option>Scheduled for maintenance</option>
              <option>N/A</option>
            </select>
          </div>

          <div class="form-group">
            <label for="addNotes">Notes</label>
            <input type="text" name="addNotes" id="inputNotes" class="form-control" placeholder="Type here..." />
          </div>

          <div class="form-group">
            <label for="addRoom">Room</label>
            <input type="number" name="addRoom" id="inputRoom" class="form-control" placeholder="Type here..." />
          </div>

          <input type="submit" id="btnComputerAdd" class="form-control btn btn-primary" value="Confirm" />

        </form>

      </div>
    </div>

    <!-- Computer Table -->
    <div id="padded-box" class="col-sm-6 border border-secondary rounded">

      <div id="table-overflow">
        <h6 id="txtRoomSel" style="color: green"></h6>

        <table class="table" id="main-table">

          <thead class="thead-dark">
            <tr>
              <th>Computer ID</th>
              <th>Name</th>
              <th>Status</th>
              <th>Notes</th>
              <th>Room</th>
              <th></th>
            </tr>
          </thead>

          <tbody id="tblComputers">
            <% for (i=0; i < computers.length; i++) { %>
              <tr>
                <td id="id"><%= computers[i]._id %></td>
                <td id="name"><%= computers[i].name %></td>
                <td id="status"><%= computers[i].status %></td>
                <td id="notes"><%= computers[i].notes %></td>
                <td id="room"><%= computers[i].room %></td>
                <td><button class="getPC">Update</button></td>
              </tr>
              <% } %>
          </tbody>

        </table>

      </div>
    </div>

    <div id="padded-box" class="col-sm-3 border border-secondary rounded">
      
      <!-- Update room form -->
      <div id="computer-form-box">
        <h5>Update Computer</h5>

        <form method="post" action="/update" class="updateForm">

          <div class="form-group">
            <label for="searchId">Computer ID</label>
            <input type="text" id="txtSearch" name="searchId" class="form-control border border-danger" 
            title="Do not edit this field" disabled />
          </div>

          <div class="form-group">
            <label for="updateName">Name</label>
            <input type="text" id="txtName1" name="updateName" class="form-control" disabled />
          </div>

          <div class="form-group">
            <label for="updateStatus">Status</label>
            <select id="txtStatus" name="updateStatus" class="form-control" disabled>
              <option>Working</option>
              <option>Not working</option>
              <option>Scheduled for maintenance</option>
              <option>N/A</option>
            </select>
          </div>

          <div class="form-group">
            <label for="updateNotes">Notes</label>
            <input type="text" id="txtNotes" name="updateNotes" class="form-control" disabled />
          </div>

          <div class="form-group">
            <label for="updateRoom">Room</label>
            <input type="number" id="txtRoom" name="updateRoom" class="form-control" disabled />
          </div>

          <input type="submit" id="btnUpdate" class="form-control btn btn-warning" value="Update" disabled />

        </form>

      </div>
    </div>
  </div>

  <br>
  <h4 class="text-muted">Utilities</h4>

  <!-- Websockets -->
  <script src="sockets.js"></script>
  <ul id="messages"></ul>
  <p id="socketMsg"></p>

  <a href="/dc">Remove Filter / Refresh to DC</a>

</body>

</html>